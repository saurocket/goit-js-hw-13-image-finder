{"version":3,"sources":["webpack:///./API/apiService.js","webpack:///./HelperFunction/inputSubscriber.js","webpack:///./HelperFunction/clickSunscriber.js","webpack:///./HelperFunction/popup.js","webpack:///./Component/ScrollUp.js","webpack:///./HelperFunction/scroll.js","webpack:///./Component/LearnMoreBtn.js","webpack:///./store/createStrore.js","webpack:///./index.js","webpack:///./Component/FormSearch.js","webpack:///./Component/GalleryList.js","webpack:///./Component/CardItem.js","webpack:///./Component/Alert.js"],"names":["apiService","search","page","fetch","response","json","data","ok","Error","message","console","error","onInputChange","e","preventDefault","value","document","querySelector","trim","length","window","store","resetStore","root","innerHTML","setSearch","hits","total","update","updateTotal","render","clickSubscriber","src","target","tagName","getAttribute","basicLightbox","show","log","ScrollUp","upSelector","upElem","insertAdjacentHTML","style","opacity","addEventListener","documentElement","scrollTop","scrollTo","pageNumber","gallery","currentPortion","onAddCard","addPageNumber","valueStore","scrollIntoView","behavior","block","cards","count","selector","state","component","map","card","props","webformatURL","largeImageURL","likes","views","comments","downloads","join","querySelectorAll","forEach","item","GalleryList","btn","remove","LearnMoreBtn","setTimeout","inputRef","focus","select","Alert"],"mappings":"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","file":"main.0db32e7c746a18325011.js","sourcesContent":["\r\nconst API_KEY = '21822388-90e2619eec9f9ca7d32baa228';\r\nexport const apiService = async (search, page = 1) => {\r\n try{\r\n   let response  = await fetch(`https://pixabay.com/api/?\r\n   &orientation=\"horizontal\r\n   &image_type=photo\r\n   &q=${search}\r\n   &page=${page}\r\n   &per_page=12\r\n   &key=${API_KEY}\r\n`)\r\n   const data = await response.json()\r\n   if (!response.ok) {\r\n     throw new Error(data.message || 'Something wrong')\r\n   }\r\n\r\n   return data\r\n }catch (e) {\r\n    console.error(e)\r\n }\r\n\r\n}\r\n\r\n","import debounce from 'lodash/debounce';\r\nimport { apiService } from '../API/apiService';\r\nimport { render } from '../index';\r\nimport {root} from '../index';\r\n\r\nconst onInputChange =async (e) => {\r\n  e.preventDefault()\r\n  const value = document.querySelector('.form-control').value.trim()\r\n  if (value.length === 0) return\r\n\r\n  let valueStore = window.store.search\r\n\r\n  if (valueStore !== value){\r\n    window.store.resetStore()\r\n    root.innerHTML = ''\r\n    window.store.setSearch(value)\r\n    const {hits, total} = await apiService(value)\r\n    window.store.update(hits)\r\n    window.store.updateTotal(total)\r\n    render()\r\n  }\r\n}\r\n\r\nexport const inputSubscriber = (selector) => {\r\n  const inputRef = document.querySelector(selector)\r\n\r\n  inputRef.addEventListener('submit', onInputChange)\r\n\r\n}\r\n","import { popup } from './popup';\r\n\r\n\r\nexport const clickSubscriber = (e) => {\r\n  const target  = e.target\r\n  if (target.tagName !== 'IMG'){\r\n    console.log('ggg')\r\n    return\r\n  }\r\n  popup(target.getAttribute('path'))\r\n}\r\n","import * as basicLightbox from 'basiclightbox'\r\n\r\nexport const popup = (src) => {\r\n  const instance = basicLightbox.create(`\r\n    <img src=\"${src}\" width=\"800\" height=\"600\">\r\n    `)\r\n\r\n  instance.show()\r\n}\r\n","import { appLog } from '../HelperFunction/scroll';\r\n\r\nexport const ScrollUp = (root) => {\r\n  const component = `<div class=\"scroll-up text-primary\">\r\n                            <i class=\"bi bi-arrow-up-square\"></i>\r\n                         </div>`\r\n  root.insertAdjacentHTML('afterend',component)\r\n  appLog('.scroll-up')\r\n}\r\n","\r\nexport const appLog = (upSelector) => {\r\n  const upElem = document.querySelector(upSelector);\r\n  upElem.style.opacity = 0;\r\n  window.addEventListener('scroll', () => {\r\n\r\n    if (document.documentElement.scrollTop > 1000) {\r\n      upElem.style.opacity = 1;\r\n    } else {\r\n      upElem.style.opacity = 0;\r\n    }\r\n  });\r\n  upElem.addEventListener('click', () => window.scrollTo(0, 0))\r\n};\r\n\r\n\r\n\r\n\r\n","import { apiService } from '../API/apiService';\r\nimport { render} from '../index';\r\nimport { ScrollUp } from './ScrollUp';\r\n\r\nconst onAddCard = async () => {\r\n  window.store.addPageNumber()\r\n  let pageNumber = window.store.pageNumber\r\n  let valueStore = window.store.search\r\n    const data = await apiService(valueStore,pageNumber)\r\n    window.store.update(data.hits)\r\n    render()\r\n  const element = document.querySelector('.add-card');\r\n  element.scrollIntoView({\r\n    behavior: 'smooth',\r\n    block: 'end',\r\n  });\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const LearnMoreBtn = (root) => {\r\n  const btn = document.querySelector('.add-card')\r\n  if (window.store.total < 12) {\r\n    if(btn){\r\n      btn.remove()\r\n    }\r\n    return;\r\n  }\r\n  if(btn){\r\n    return\r\n  }\r\n  if(window.store.total === window.store.gallery.length){\r\n    btn?.remove()\r\n  }\r\n\r\n  const component = `<button type=\"button\" class=\"btn btn-primary add-card\">Learn More</button>`\r\n  root.insertAdjacentHTML('afterend',component)\r\n  ScrollUp(root)\r\n  document.querySelector('.add-card').addEventListener('click', onAddCard)\r\n}\r\n\r\n\r\n","export const createStore=() =>{\r\n  let search = ''\r\n  let pageNumber = 1\r\n  let gallery = []\r\n  let currentPortion = []\r\n  let total = 0;\r\n  return {\r\n    get total(){\r\n      return total\r\n    },\r\n    get currentPortion(){\r\n      return currentPortion\r\n    },\r\n    get gallery() {\r\n      return gallery\r\n    },\r\n    get pageNumber(){\r\n      return pageNumber\r\n    },\r\n    get search(){\r\n      return search\r\n    },\r\n    update(cards) {\r\n      gallery = [...gallery, ...cards]\r\n      currentPortion = [...cards]\r\n    },\r\n    setSearch(value){\r\n      search = value\r\n    },\r\n    addPageNumber(){\r\n      pageNumber++\r\n    },\r\n    updateTotal(count){\r\n      total = count\r\n    },\r\n    resetStore(){\r\n      search = ''\r\n      pageNumber = 1\r\n      gallery = []\r\n      currentPortion = []\r\n    },\r\n\r\n  }\r\n}\r\n","import './styles.scss';\nimport { FormSearch } from './Component/FormSearch';\nimport { GalleryList } from './Component/GalleryList';\nimport { LearnMoreBtn } from './Component/LearnMoreBtn';\nimport { createStore } from './store/createStrore';\nimport {Alert} from './Component/Alert';\n\nwindow.store = createStore()\n\n\nexport const root = document.querySelector('#root')\n\nFormSearch(root)\n\nexport const render = () => {\n  if(window.store.total === 0){\n    Alert(root)\n    return\n  }\n  GalleryList(root)\n  LearnMoreBtn(root)\n}\n\n\n\n\n\n\n\n","import { inputSubscriber } from '../HelperFunction/inputSubscriber';\r\n\r\nexport const FormSearch = (root) => {\r\n  const component = `\r\n    <nav class=\"navbar navbar-light bg-light\">\r\n        <div class=\"container-fluid\">\r\n                <div class=\"input-group\">\r\n                        <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                            <i class=\"bi bi-search\"></i>\r\n                        </span>\r\n                        <form class=\"search-form d-flex\" id=\"search-form\">\r\n                            <input\r\n                             type=\"text\"\r\n                             class=\"form-control\"\r\n                             name=\"query\"\r\n                             autocomplete=\"off\"\r\n                             placeholder=\"Search images...\"\r\n                            />\r\n                        </form>\r\n                         <h1 class=\"navbar-text ms-5 fs-6 text-primary\">\r\n                               APP for searching images\r\n                         </h1>\r\n                  </div>\r\n        </div>\r\n    </nav>\r\n  `;\r\n  root.insertAdjacentHTML('beforebegin', component);\r\n  inputSubscriber('.search-form')\r\n};\r\n\r\n","import { CardItem } from './CardItem';\r\nimport { clickSubscriber } from '../HelperFunction/clickSunscriber';\r\n\r\nexport const GalleryList= (root) => {\r\n\r\n  const state = window.store.currentPortion\r\n\r\n  if (state.length === 0){\r\n    return\r\n  }\r\n\r\n  const cardItems = state.map(card => CardItem(card)).join(' ');\r\n  const component = `\r\n    <ul class=\"gallery\">\r\n         ${cardItems}\r\n    </ul>\r\n  `;\r\n\r\n  root.insertAdjacentHTML('beforeend', component);\r\n\r\n\r\n\r\n\r\n\r\n  const listRef = document.querySelectorAll('.imageItem')\r\n  listRef.forEach(item => item.addEventListener('click', (e) => clickSubscriber(e)))\r\n};\r\n'largeImageUR'\r\n"," export const CardItem = (props) => {\r\n  const {webformatURL, largeImageURL, likes, views, comments, downloads} = props\r\n\r\n\r\n  const Item = `<li class='imageItem' style=\"width: 24.5%;\">\r\n                        <img src='${webformatURL}' class=\"card-img-top\" alt=\"card\" path=${largeImageURL}>\r\n                            <div class=\"card-body\">\r\n                                <ul class=\"card-items\">\r\n                                 <li>\r\n                                         <div class=\"group\">\r\n                                            <span class=\"group-text\">${likes}</span>\r\n                                            <span class=\"group-text\">\r\n                                                <i class=\"bi bi-hand-thumbs-up\"></i>\r\n                                            </span>\r\n                                        </div>\r\n                                 </li>\r\n                                 <li>\r\n                                         <div class=\"group\">\r\n                                            <span class=\"group-text\">${views}</span>\r\n                                            <span class=\"group-text\">\r\n                                                <i class=\"bi bi-tv\"></i>\r\n                                            </span>\r\n                                        </div>\r\n                                 </li>\r\n                                  <li>\r\n                                         <div class=\"group\">\r\n                                            <span class=\"group-text\">${comments}</span>\r\n                                            <span class=\"group-text\">\r\n                                                <i class=\"bi bi-chat-right-text\"></i>\r\n                                            </span>\r\n                                        </div>\r\n                                 </li>\r\n                                 <li>\r\n                                         <div class=\"group\">\r\n                                            <span class=\"group-text\">${downloads}</span>\r\n                                            <span class=\"group-text\">\r\n                                                <i class=\"bi bi-download\"></i>\r\n                                            </span>\r\n                                        </div>\r\n                                 </li>\r\n                                </ul>\r\n                            </div>\r\n                    </li>`\r\nreturn Item\r\n}\r\n\r\n","\r\nexport const Alert = (root) => {\r\n\r\n\r\n  const component = `<div class=\"alert alert-danger\" role=\"alert\">\r\n                          Please check what are you looking for\r\n                    </div>`\r\n  root.insertAdjacentHTML('beforebegin', component);\r\n\r\n  setTimeout(()=>{\r\n    document.querySelector('.alert-danger')?.remove()\r\n    const inputRef = document.querySelector('.form-control')\r\n    inputRef.focus()\r\n    inputRef.select()\r\n\r\n  }, 2000)\r\n\r\n}\r\n"],"sourceRoot":""}